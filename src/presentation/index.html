<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" >
		<title>Snake Oil</title>
		<link rel="icon" href="europython-2025-logo.svg" >
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<!--
					 Cold open

					 Is your snake-based program really lethargic?
					 Does it just sit there in the sun while you are waiting to do what you actually wanted to do?
			 	-->
				</section>
				<section>
					<h1 class="r-fit-text">Snake Oil</h1>
				</section>
				<section>
					<!--
					Unlike the snake oil salesmen (more inclusive word?) of yesteryear

					Sources:
					 - https://www.npr.org/sections/codeswitch/2013/08/26/215761377/a-history-of-snake-oil-salesmen
					 - https://www.scientificamerican.com/article/snake-oil-salesmen-knew-something/

					 Loops in Python
					 - https://wiki.python.org/moin/ForLoop
					 - https://wiki.python.org/moin/PythonSpeed/PerformanceTips

					 More pictures:
					  - https://bih.gov.hk/en/multimedia-database/index.html?animal_group=9&search_type=animal&action=list_multimedia&page=1&page_size=36

					-->
				</section>
				<section>
					<h1>
						<code>whoami</code>
					</h1>
					<p class="fragment">Sindre Nistad</p>
					<span class="fragment">(pronounced similar to cinder ðŸ”¥)</span>
					<p class="fragment">Developer by day, gamer by night</p>
				</section>
				<section>...</section>
				<section>
					<pre>
						<code
								class="language-plaintext"
								style="font-size: .9em; line-height: .9em; max-height: 700px"
								data-trim
						>
						                                                     *
						                                                   ****
						                                                  ******
						                                                   *****
						                                              * *********
						                                         *** ****************
						                                           ******************** **
						                                        *************************
						                                       ****************************
						                                     *******************************
						                                     ******************************
						                        * *****     ********************************
						                       ***********  ********************************
						                      ************* *******************************
						                  ** ************** ******************************
						****************************************************************
						                  ** ************** ******************************
						                      ************* *******************************
						                       ***********  ********************************
						                        * *****     ********************************
						                                     ******************************
						                                     *******************************
						                                       ****************************
						                                        *************************
						                                           ******************** **
						                                         *** ****************
						                                              * *********
						                                                   *****
						                                                  ******
						                                                   ****
						                                                     *
					</code></pre>
					<aside class="notes">
						A reproduction of the first visualization of the Mandelbrot set.
						First published in 1978 from an IBM mainframe using an
						<em>old</em>(dot-matrix?) printer
					</aside>
				</section>
				<section>
					<h1>Profiling</h1>
					<h2>
						<code>
							<a
								href="https://cython.readthedocs.io/en/stable/src/quickstart/overview.html"
							>
								cython
							</a>
						</code>
					</h2>
					<p>
						<pre><code>
					# cython: profile=True
					# cython: linetrace=True
					# distutils: define_macros=CYTHON_TRACE_NOGIL=1
				</code></pre>
					</p>
					<p>
						NOTE: Can be <strong>very</strong>slow
					</p>
					<p>
						For more information, see
						<a
							href="https://cython.readthedocs.io/en/latest/src/tutorial/profiling_tutorial.html"
							>Cython's page on profiling</a
						>
					</p>

					<aside class="notes">
						<pre><code class="language-python">

						for index in prange(width * height):
							i = index % width
							j = index // width
						</code></pre>
					</aside>
				</section>
				<section>
					<h1>Rust</h1>

					<aside class="notes">
						Parallelize the Rust code:

						<pre><code data-trim class="language-bash">
							cd src/mandelbrot/implementations/rust/rust_native
							cargo add ndarray --features rayon
						</code> </pre>
						then add
						<pre><code data-trim class="language-rust">
							use ndarray::{Array3, Array2, Zip};
							use ndarray::parallel::prelude::*;
						</code> </pre>
						and replace the for loop with
						<pre><code data-trim class="language-rust">
							Zip::indexed(pixels.view_mut()).par_for_each(|(i, j), val| {
								*val = mandelbrot(
									x.0 + (i as f64) * x_scale,
									y.0 + (j as f64) * y_scale,
									cutoff,
								)
							});
						</code> </pre>
						as a bonus, or for those who don't like the Mandelbrot set, we could
						do one of the Julia sets $ c = -0.8 + 0.156i $
					</aside>
				</section>
				<section>
					<section>
						<h1>Nvidia CUDA</h1>
						<p class="fragment">Really good at parallel 32-bit float</p>
						<aside class="notes">
							It is also possible to improve performance by using shared buffers
							and ...
						</aside>

						<section>
							<ul>
								<li>
									<a
										href="https://github.com/NVIDIA/cuda-python/tree/main/cuda_core/examples"
									>
										CUDA examples
									</a>
								</li>
								<!--
								Profiler: https://developer.nvidia.com/nvidia-visual-profiler
								Nvidia recommends moving to NVIDIA Nsight Systems: https://developer.nvidia.com/nsight-systems

								 OpenCL alternative: https://documen.tician.de/pyopencl/
								 -->
							</ul>
						</section>
					</section>
				</section>

				<section>
					<h1>Other projects, and such</h1>
					<ul>
						<li>
							<a href="https://lpython.org/">LPython</a>
						</li>
					</ul>
					<aside class="notes">
						I tried adding an example of using LPython, but I was unable to get
						it to compile and function on Windows in time.
					</aside>
				</section>
				<section class="r-stack">
					<h1 class="r-fit-text">Source code & presentation</h1>
					<img
						src="github-url-qr.svg"
						alt="QR code to the repository for the source code and presentation. Points to https://github.com/sindre-nistad/snake-oil"
						height="600px"
					>
				</section>
				<section data-visibility="uncounted">
					<h1>Addendum</h1>
				</section>
				<section data-visibility="uncounted">
					<section>
						<h1>Mandelbrot</h1>
					</section>
					<section>
						<h1>Mandelbrot</h1>
						<p>A (complex) number $c$ is in the Mandelbrot set if</p>
						<p>$ |z_{n}| \le 2 $</p>
						<p>
							for all $ n \ge 0 $ \[\begin{aligned} z_{0} = 0 \\ z_{n+1} =
							z_{n}^2 + c \end{aligned}\]
						</p>
					</section>

					<section>
						<h2>Video explainers</h2>
						<ul>
							<li>
								<a
									href="https://www.youtube-nocookie.com/embed/0OP9guFmWfs?privacy_mode=1"
								>
									This fractal is more complex than the Mandelbrot set
								</a>
								<br>
								by
								<a
									href="https://www.youtube.com/channel/UCSju5G2aFaWMqn-_0YBtq5A"
								>
									Stand-up Maths
								</a>
							</li>
							<li>
								<a
									href="https://www.youtube-nocookie.com/embed/FFftmWSzgmk?privacy_mode=1"
								>
									What&#39;s so special about the Mandelbrot Set?
								</a>
								<br>
								by
								<a
									href="https://www.youtube.com/channel/UCoxcjq-8xIDTYp3uz647V5A"
								>
									Numberphile
								</a>
							</li>
							<li>
								<a
									href="https://www.youtube-nocookie.com/embed/ovJcsL7vyrk?privacy_mode=1"
								>
									This equation will change how you see the world (the logistic
									map)
								</a>
								<br>
								by
								<a href="https://www.youtube.com/@veritasium"> Veritasium </a>
							</li>
						</ul>
					</section>
				</section>
			</div>
		</div>

		<script type="module" src="main.js"></script>
	</body>
</html>
